<div class="smart-widget widget-dark-blue">
	<div class="smart-widget-header">投票活动管理</div>
	<div class="smart-widget-inner">
		<div class="smart-widget-body">
			<button ng-click="create()" class="btn btn-success btn-sm">
				<i class="ion-plus m-right-xs"></i>新建投票活动
			</button>
		</div>
		<div ng-show="pageInfo.totalElements > 0">
			<div class="smart-widget-body">
				<table class="table table-hover">
					<thead>
						<tr>
							<th width="50">序号</th>
							<th width="50">ID</th>
							<th>活动名称</th>
							<th width="150">结束时间</th>
							<th width="100">报名人数</th>
							<th width="100">投票人数</th>
							<th width="100">访问量</th>
							<th width="200">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat = "activity in activities">
							<td>{{$index+1}}</td>
							<td>{{activity.id}}</td>
							<td>{{activity.name}}</td>
							<td>{{activity.endTime | date:yyyy-MM-dd}}</td>
							<td>{{activity.enrollCount}}</td>
							<td>{{activity.voteCount}}</td>
							<td>{{activity.browseCount}}</td>
							<td>
								<button class="btn btn-info btn-xs" ng-click="rank(activity)">
									<i class="fa fa-bars m-right-xs"></i>排名
								</button>
								<button class="btn btn-warning btn-xs" ng-click="update(activity)">
									<i class="ion-edit m-right-xs"></i>修改
								</button>
								<button class="btn btn-danger btn-xs" ng-click="remove(activity)">
									<i class="ion-trash-a m-right-xs"></i>删除
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div style="margin-top: -30px; margin-left: 20px; margin-bottom: 20px;">
				<uib-pagination total-items="pageInfo.totalElements" num-pages="pageInfo.totalPages" ng-model="pageInfo.page" max-size="pageInfo.maxSize" 
					class="pagination-sm" boundary-links="true" force-ellipses="true" ng-change="query()" ng-disabled="pageInfo.totalElements <= 0" 
					first-text="首页" last-text="末页" next-text="后页" previous-text="前页"></uib-pagination>
			</div>
		</div>
		<div class="smart-widget-body" ng-hide="pageInfo.totalElements > 0">
			<div class="alert alert-warning alert-dismissible" role="alert">
		     	<i class="fa fa-exclamation-circle m-right-xs"></i> <strong>没有查询到任何数据,请修改查询条件并重试</strong>
		    </div>
		</div>
	</div>
</div>